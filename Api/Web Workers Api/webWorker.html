<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Workers Api Example</title>
</head>

<body>
    <h2> What is a JavaScript Web Workers API ?</h2>
    <p>A web worker is a JavaScript that runs in the background, independently of other scripts, without affecting the
        performance of the page. You can continue to do whatever you want: clicking, selecting things, etc., while the
        web
        worker runs in the background.</p><br><br>
    <p>We checks if the worker already exists, if not - it creates a new web worker object and runs the code in
        "demo_workers.js". Then we can send and receive messages from the web worker.

        Add an "onmessage" event listener to the web worker.</p>
    <pre>Then we can send and receive messages from the web worker.

        Add an "onmessage" event listener to the web worker.```jsx
        w.onmessage = function(event){
        document.getElementById("result").innerHTML = event.data;
        };
        ```</pre>
    <p>Count numbers: <output id="result"></output></p>
    <button onclick="startWorker()">Start Worker</button>
    <button onclick="stopWorker()">Stop Worker</button>

    <script>
        let w;

        function startWorker() {
            // Before creating a web worker, check whether the user's browser supports it:
            if (typeof (w) == "undefined") {
                w = new Worker("demo_workers.js");
            }
            w.onmessage = function (event) {
                document.getElementById("result").innerHTML = event.data;
            };
        }

        function stopWorker() {
            w.terminate(); //To terminate a web worker
            w = undefined; // to reuse the code
        }
    </script>


</body>

</html>